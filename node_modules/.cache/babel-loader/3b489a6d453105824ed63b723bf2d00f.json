{"ast":null,"code":"var _jsxFileName = \"/home/vaibhavgeek/hackathons/superfluid-uma/src/utils/ScrollReveal.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { throttle } from 'lodash';\n\nclass ScrollReveal extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      viewportHeight: window.innerHeight,\n      revealEl: []\n    };\n\n    this.checkComplete = () => {\n      return this.state.revealEl.length <= document.querySelectorAll('[class*=reveal-].is-revealed').length;\n    };\n\n    this.elementIsVisible = (el, offset) => {\n      return el.getBoundingClientRect().top <= this.state.viewportHeight - offset;\n    };\n\n    this.revealElements = () => {\n      if (this.checkComplete()) return;\n\n      for (let i = 0; i < this.state.revealEl.length; i++) {\n        let el = this.state.revealEl[i];\n        let revealDelay = el.getAttribute('data-reveal-delay');\n        let revealOffset = el.getAttribute('data-reveal-offset') ? el.getAttribute('data-reveal-offset') : '200';\n        let listenedEl = el.getAttribute('data-reveal-container') ? el.closest(el.getAttribute('data-reveal-container')) : el;\n\n        if (this.elementIsVisible(listenedEl, revealOffset) && !el.classList.contains('is-revealed')) {\n          if (revealDelay && revealDelay !== 0) {\n            setTimeout(function () {\n              el.classList.add('is-revealed');\n            }, revealDelay);\n          } else {\n            el.classList.add('is-revealed');\n          }\n        }\n      }\n    };\n\n    this.init = () => {\n      setTimeout(() => {\n        this.setState({\n          revealEl: document.querySelectorAll('[class*=reveal-]')\n        }, () => {\n          if (!this.checkComplete()) {\n            window.addEventListener('scroll', this.handleScroll);\n            window.addEventListener('resize', this.handleResize);\n          }\n\n          this.revealElements();\n        });\n      }, 100);\n    };\n\n    this.handleListeners = () => {\n      if (!this.checkComplete()) return;\n      window.removeEventListener('scroll', this.handleScroll);\n      window.removeEventListener('resize', this.handleResize);\n    };\n\n    this.handleScroll = throttle(() => {\n      this.handleListeners();\n      this.revealElements();\n    }, 30);\n    this.handleResize = throttle(() => {\n      this.setState({\n        viewportHeight: window.innerHeight\n      }, () => {\n        this.handleListeners();\n        this.revealElements();\n      });\n    }, 30);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, this.props.children());\n  }\n\n}\n\nScrollReveal.propTypes = {\n  children: PropTypes.func.isRequired\n};\nexport default ScrollReveal;","map":{"version":3,"sources":["/home/vaibhavgeek/hackathons/superfluid-uma/src/utils/ScrollReveal.js"],"names":["React","PropTypes","throttle","ScrollReveal","Component","state","viewportHeight","window","innerHeight","revealEl","checkComplete","length","document","querySelectorAll","elementIsVisible","el","offset","getBoundingClientRect","top","revealElements","i","revealDelay","getAttribute","revealOffset","listenedEl","closest","classList","contains","setTimeout","add","init","setState","addEventListener","handleScroll","handleResize","handleListeners","removeEventListener","render","props","children","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { throttle } from 'lodash';\n\nclass ScrollReveal extends React.Component {\n\n  state = {\n    viewportHeight: window.innerHeight,\n    revealEl: []\n  };\n\n  checkComplete = () => {\n    return this.state.revealEl.length <= document.querySelectorAll('[class*=reveal-].is-revealed').length;\n  };\n\n  elementIsVisible = (el, offset) => {\n    return (el.getBoundingClientRect().top <= this.state.viewportHeight - offset);\n  };\n\n  revealElements = () => {\n    if (this.checkComplete()) return;\n    for (let i = 0; i < this.state.revealEl.length; i++) {\n      let el = this.state.revealEl[i];\n      let revealDelay = el.getAttribute('data-reveal-delay');\n      let revealOffset = (el.getAttribute('data-reveal-offset') ? el.getAttribute('data-reveal-offset') : '200');\n      let listenedEl = (el.getAttribute('data-reveal-container') ? el.closest(el.getAttribute('data-reveal-container')) : el);\n      if (this.elementIsVisible(listenedEl, revealOffset) && !el.classList.contains('is-revealed')) {\n        if (revealDelay && revealDelay !== 0) {\n          setTimeout(function () {\n            el.classList.add('is-revealed');\n          }, revealDelay);\n        } else {\n          el.classList.add('is-revealed');\n        }\n      }\n    }\n  };\n\n  init = () => {\n    setTimeout(() => {\n      this.setState({ revealEl: document.querySelectorAll('[class*=reveal-]') }, () => {\n        if (!this.checkComplete()) {\n          window.addEventListener('scroll', this.handleScroll);\n          window.addEventListener('resize', this.handleResize);\n        }\n        this.revealElements();\n      });\n    }, 100);\n  };\n\n  handleListeners = () => {\n    if (!this.checkComplete()) return;\n    window.removeEventListener('scroll', this.handleScroll);\n    window.removeEventListener('resize', this.handleResize);\n  };\n\n  handleScroll = throttle(() => {\n    this.handleListeners();\n    this.revealElements();\n  }, 30);\n\n  handleResize = throttle(() => {\n    this.setState({ viewportHeight: window.innerHeight }, () => {\n      this.handleListeners();\n      this.revealElements();\n    });\n  }, 30);\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children()}\n      </React.Fragment>\n    );\n  }\n}\n\nScrollReveal.propTypes = {\n  children: PropTypes.func.isRequired\n};\n\nexport default ScrollReveal;"]},"metadata":{},"sourceType":"module"}