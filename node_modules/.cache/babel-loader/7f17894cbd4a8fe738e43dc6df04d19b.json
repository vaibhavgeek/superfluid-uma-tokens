{"ast":null,"code":"import { hash } from '../utils/hash.js';\nimport { asyncStringify, asyncToStringMethod, stringify, toStringMethod } from '../utils/stringify.js';\nimport { cloneMethod, hasCloneMethod } from '../check/symbols.js';\nimport { array } from './array.js';\nimport { integer } from './integer.js';\nimport { tuple } from './tuple.js';\nimport { escapeForMultilineComments } from './_internals/helpers/TextEscaper.js';\nexport function func(arb) {\n  return tuple(array(arb, {\n    minLength: 1\n  }), integer().noShrink()).map(_ref => {\n    let [outs, seed] = _ref;\n\n    const producer = () => {\n      const recorded = {};\n\n      const f = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        const repr = stringify(args);\n        const val = outs[hash(`${seed}${repr}`) % outs.length];\n        recorded[repr] = val;\n        return hasCloneMethod(val) ? val[cloneMethod]() : val;\n      };\n\n      function prettyPrint(stringifiedOuts) {\n        const seenValues = Object.keys(recorded).sort().map(k => `${k} => ${stringify(recorded[k])}`).map(line => `/* ${escapeForMultilineComments(line)} */`);\n        return `function(...args) {\n  // With hash and stringify coming from fast-check${seenValues.length !== 0 ? `\\n  ${seenValues.join('\\n  ')}` : ''}\n  const outs = ${stringifiedOuts};\n  return outs[hash('${seed}' + stringify(args)) % outs.length];\n}`;\n      }\n\n      return Object.defineProperties(f, {\n        toString: {\n          value: () => prettyPrint(stringify(outs))\n        },\n        [toStringMethod]: {\n          value: () => prettyPrint(stringify(outs))\n        },\n        [asyncToStringMethod]: {\n          value: async () => prettyPrint(await asyncStringify(outs))\n        },\n        [cloneMethod]: {\n          value: producer,\n          configurable: true\n        }\n      });\n    };\n\n    return producer();\n  });\n}","map":null,"metadata":{},"sourceType":"module"}